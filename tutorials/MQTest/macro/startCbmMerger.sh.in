#!/bin/bash

buffSize="1000" # zeromq high-water mark is in messages
dataFormat="Boost"



# MICROSLICE MERGER (processor)

MicroSliceNumberToMerge="16"
TimeSliceIndex="1"
ID="301"
numInputs="2"
numIoThreads="1"
inputSocketType1="pull"
inputRcvBufSize1=$buffSize
inputMethod1="bind"
inputAddress1="tcp://*:5566"
inputSocketType2="pull"
inputRcvBufSize2=$buffSize
inputMethod2="bind"
inputAddress2="tcp://*:5567"
outputSocketType="push"
outputSndBufSize=$buffSize
outputMethod="connect"
outputAddress="tcp://localhost:5568"

xterm -hold -e @CMAKE_BINARY_DIR@/bin/testCbmDetectorProcessor_$dataFormat $MicroSliceNumberToMerge $TimeSliceIndex $ID $processorTask $numIoThreads $numInputs $inputSocketType1 $inputRcvBufSize1 $inputMethod1 $inputAddress1 $inputSocketType2 $inputRcvBufSize2 $inputMethod2 $inputAddress2 $outputSocketType $outputSndBufSize $outputMethod $outputAddress &
#@CMAKE_BINARY_DIR@/bin/testCbmDetectorProcessor_$dataFormat $MicroSliceNumberToMerge $TimeSliceIndex $ID $processorTask $numIoThreads $numInputs $inputSocketType1 $inputRcvBufSize1 $inputMethod1 $inputAddress1 $inputSocketType2 $inputRcvBufSize2 $inputMethod2 $inputAddress2 $outputSocketType $outputSndBufSize $outputMethod $outputAddress
